
<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="utf-8">

    <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">

    <meta name="description" content="">

    <meta name="keywords" content="">

    <title>Ajaxian Web Page for RESTful Match Service</title>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js">

	</script>

	<script type="text/javascript">
	    var uri = "http://localhost:61633/RestAPI.svc";
	    $(document).ready(function () {
	        $("#IsAdmin").click(function () {
	            $.ajax({
	                url: uri + "/" + "IsAdmin" + "/" + $("#token").val(),
	                type: "GET",
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#GetAllUserNames").click(function () {
	            $.ajax({
	                url: uri + "/" + "GetAllUserNames" + "/" + $("#token").val(),
	                type: "GET",
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#GetAllColumnNames").click(function () {
	            $.ajax({
	                url: uri + "/" + "GetAllColumnNames",
	                type: "GET",
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#GetAllColumnTypes").click(function () {
	            $.ajax({
	                url: uri + "/" + "GetAllColumnTypes",
	                type: "GET",
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#get").click(function () {
	            $.ajax({
	                url: uri + "/Match/" + $("#match_id").val(),
	                type: "GET",
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#delete").click(function () {
	            $.ajax({
	                url: uri + "/" + $("#match_id").val(),
	                type: "DELETE",
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#CreateNewUser").click(function () {
	            $.ajax({
	                url: uri + "/CreateNewUser",
	                type: "POST",
	                contentType: "application/json",
	                data: '{'
              + '"UserName": "' + $("#username").val() + '",'
              + '"Password": "' + $("#password").val() + '",'
              + '"Token": "' + $("#token").val() + '"'
			  + '}',
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#AuthenticateUser").click(function () {
	            $.ajax({
	                url: uri + "/AuthenticateUser",
	                type: "POST",
	                contentType: "application/json",
	                data: '{'
              + '"UserName": "' + $("#username").val() + '",'
              + '"Password": "' + $("#password").val() + '",'
              + '"Token": "' + $("#token").val() + '"'
			  + '}',
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#ChangeUserPrivilege").click(function () {
	            $.ajax({
	                url: uri + "/ChangeUserPrivilege",
	                type: "POST",
	                contentType: "application/json",
	                data: '{'
              + '"UserName": "' + $("#username").val() + '",'
              + '"Password": "' + $("#password").val() + '",'
              + '"Token": "' + $("#token").val() + '"'
			  + '}',
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#ChangePassword").click(function () {
	            $.ajax({
	                url: uri + "/ChangePassword",
	                type: "POST",
	                contentType: "application/json",
	                data: '{'
              + '"UserName": "' + $("#username").val() + '",'
              + '"Password": "' + $("#password").val() + '",'
              + '"Token": "' + $("#token").val() + '"'
			  + '}',
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#update").click(function () {
	            $.ajax({
	                url: uri + "/" + $("#match_id").val(),
	                type: "PUT",
	                contentType: "application/json",
	                data: '{'
              + '"Home": "' + $("#home").val() + '",'
              + '"Score": "' + $("#score").val() + '",'
              + '"Away": "' + $("#away").val() + '"'
			  + '}',
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	        $("#create").click(function () {
	            $.ajax({
	                url: uri,
	                type: "POST",
	                contentType: "application/json",
	                data: '{'
              + '"Home": "' + $("#home").val() + '",'
              + '"Score": "' + $("#score").val() + '",'
              + '"Away": "' + $("#away").val() + '"'
			  + '}',
	                dataType: "json",
	                success: updateDisplay
	            });
	        });
	    });

	    function updateDisplay(result) {
	        $("#match_detail").text("");
	        var obj = JSON.parse(result);
	        if (obj.success != null) {
	            $("#info").text(obj.success);
	        }
	        else
	            $("#info").text(obj.error);
	        if (obj.home != null) {
	            $("#match_detail").text(obj.home + "\t" + obj.score + "\t" + obj.away);
	        }
	        if (obj.contents != null) {
	            $("#match_detail").text(obj.contents);
	        }
	        if (obj.AuthresultValid != null) {
	            $("#match_detail").text(obj.AuthresultValid + "\n" + obj.AuthresultMsg);
	        }
	        if (obj.match_url != null) {
	            $.ajax({
	                url: obj.match_url,
	                type: "GET",
	                dataType: "json",
	                success: updateDisplay
	            });
	        }
	    }

	</script>

    <!--[if IE]>

    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>

    <![endif]-->

	

	<style type="text/css">

    :invalid 

    { 

      border: 2pt solid #f33; 

    }

	body{

      text-align:center;

	  font-family:"Calibri",sans-serif;

	}

	#content{

	  margin:10% 20%;

	  width:60%;

	  padding:0pt 20pt;

	  border:2pt solid #ccc;

	  -webkit-border-top-right-radius:30pt;

	  -webkit-border-bottom-left-radius:30pt;

	}

	h2{

	  font-size:25pt;

	  color:#222;

	  text-align:left;

	  padding-left:20pt;

	  padding-bottom:10pt;

	  margin:10pt;

	  border-bottom:2pt groove orange;

	}

	input{

	  text-align:center;

	  font-size:12pt;

	  width:80pt;

	  font-family:cambria;

	}

	.button{ 

	  display:inline-block;

	  margin:5pt 1pt;

	  padding:2pt;

	  width:90pt;

	  cursor:pointer;

      border-radius: 3pt;

      background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ddd));

      background: -moz-linear-gradient(top, #fff, #ddd);  

      border: 1px solid #bbb;

    }

	#match_detail{

	  font-family:arial black;

	  font-size:25pt;

	  padding:10pt;

	  border-radius: 10pt;

	}

	.bgfadeClass{

      -webkit-animation-name: bgFade;

      -webkit-animation-duration: 2s;

      -webkit-animation-timing-function: linear;

      -webkit-animation-iteration-count: 1;

	}

	#info{

	  margin-bottom:10pt;

	  font-size:12pt;

	}

	

    @-webkit-keyframes bgFade /*Safari and Chrome */

    {

      0%   {background: #F3F781;}

      100% {background: white;}

    }

	</style>

  </head>

  <!--
<body>
    <p>
        &nbsp; <font face="Arial Black" color="#800080"><big><big><big><big><big>Eskimodb</big></big></big></big></big></font></p>
    <hr width="80%" align="left">
    <p>
        &nbsp;&nbsp;
    </p>
    <p>
        &nbsp;&nbsp;&nbsp;
        <input type="button" value="IsAdmin" name="IsAdmin" id="IsAdmin">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="text" id="token" placeholder="Token" /></input></p>
    <p>
        &nbsp;&nbsp;&nbsp;
        <input type="button" value="GetUserName" name="GetUserName">&nbsp;&nbsp;&nbsp;
        <input type="text" name="T2" size="20"></p>
    <p>
        &nbsp;&nbsp;&nbsp;
        <input type="button" value="GetColumnName" name="GetColumnName">&nbsp;&nbsp;
        <input type="text" name="T3" size="20">
        &nbsp;&nbsp;&nbsp;&nbsp;
        <textarea rows="19" id="match_detail" cols="36" style="float: right; position: absolute;
            left: 397; top: 138"></textarea>
    </p>
    <p>
        &nbsp;&nbsp;&nbsp;
        <input type="button" value="GetColumnType" name="GetColumnType">&nbsp;&nbsp;
        <input type="text" name="T4" size="20"></p>
    <p>
        &nbsp;&nbsp;&nbsp;
        <input type="button" value="IterateDataSet" name="IterateDataSet">&nbsp;
        <input type="text" name="T5" size="20"></p>
</body>
-->

  <body>

  <div id="content">

    <h2>EskimoDB</h2>

    <!--
	<input type="text" id="match_id" pattern="[0-9]+" placeholder="Match ID" />

	<div id="get" class="button">Get Match Detail</div>

	<div id="delete" class="button">Delete Match</div><br />

	<input type="text" id="home" placeholder="Home Team"></input>

	<input type="text" id="score" pattern="[0-9]+\:[0-9]+" placeholder="Score"></input>

	<input type="text" id="away" placeholder="Away Team"></input>

	<div class="button" id="create">Create Match</div>

	<div class="button" id="update">Update Match</div>
    -->

    <div class="button" id="IsAdmin">Is Admin</div>
    <div class="button" id="GetAllUserNames">Get Names</div>
    <div class="button" id="GetAllColumnNames">Get Column Names</div>
    <div class="button" id="GetAllColumnTypes">Get Column Types</div>
    <div class="button" id="CreateNewUser">Create New User</div>
    <div class="button" id="AuthenticateUser">Authenticate User</div>
    <div class="button" id="ChangeUserPrivilege">Change User Privilege</div>
    <div class="button" id="ChangePassword">Change Password</div>
    
    <input type="text" id="token" placeholder="Token" /></input>
    <input type="text" id="username" placeholder="UserName"></input>
	<input type="text" id="password" placeholder="Password"></input>

	<div id="match_detail"></div>

	<div id="info"></div>

  </div>

  </body>

</html>